import{c as P,u as k,a as c,N as C,i as u,d as S,t as L}from"./index.d61504ba.js";import{L as A}from"./ListErrors.b204808f.js";const D=L('<div class="auth-page"><div class="container page"><div class="row"><div class="col-md-6 offset-md-3 col-xs-12"><h1 class="text-xs-center"></h1><p class="text-xs-center"></p><form><fieldset class="form-group"><input class="form-control form-control-lg" type="text" placeholder="Email"></fieldset><fieldset class="form-group"><input class="form-control form-control-lg" type="password" placeholder="Password"></fieldset><button class="btn btn-lg btn-primary pull-xs-right" type="submit"></button></form></div></div></div></div>'),H=L('<fieldset class="form-group"><input class="form-control form-control-lg" type="text" placeholder="Username"></fieldset>');var j=()=>{const[t,r]=P({username:"",inProgress:!1}),[,{register:w,login:E}]=k(),l=location.hash.includes("login"),f=l?"Sign in":"Sign up",y=l?c(C,{route:"register",children:"Need an account?"}):c(C,{route:"login",children:"Have an account?"}),N=n=>{n.preventDefault(),r({inProgress:!0}),(l?E(t.email,t.password):w(t.username,t.email,t.password)).then(()=>location.hash="/").catch(o=>r({errors:o})).finally(()=>r({inProgress:!1}))};return(()=>{const n=D.cloneNode(!0),m=n.firstChild,o=m.firstChild,v=o.firstChild,g=v.firstChild,p=g.nextSibling,a=p.nextSibling,d=a.firstChild,h=d.firstChild,_=d.nextSibling,$=_.firstChild,x=_.nextSibling;return g.textContent=f,u(p,y),u(v,c(A,{get errors(){return t.errors}}),a),a.addEventListener("submit",N),u(a,!l&&(()=>{const e=H.cloneNode(!0),s=e.firstChild;return s.addEventListener("change",i=>r({username:i.target.value})),S(()=>s.value=t.username),e})(),d),h.addEventListener("change",e=>r({email:e.target.value})),$.addEventListener("change",e=>r({password:e.target.value})),x.textContent=f,S(e=>{const s=t.email,i=t.password,b=t.inProgress;return s!==e._v$&&(h.value=e._v$=s),i!==e._v$2&&($.value=e._v$2=i),b!==e._v$3&&(x.disabled=e._v$3=b),e},{_v$:void 0,_v$2:void 0,_v$3:void 0}),n})()};export{j as default};
