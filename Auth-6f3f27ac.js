import{c as e,u as s,a as t,N as r,i as o,b as i,t as l}from"./index.js";import{L as n}from"./ListErrors-d070c9b7.js";const a=l('<div class="auth-page"><div class="container page"><div class="row"><div class="col-md-6 offset-md-3 col-xs-12"><h1 class="text-xs-center"></h1><p class="text-xs-center"></p><form><fieldset class="form-group"><input class="form-control form-control-lg" type="text" placeholder="Email"></fieldset><fieldset class="form-group"><input class="form-control form-control-lg" type="password" placeholder="Password"></fieldset><button class="btn btn-lg btn-primary pull-xs-right" type="submit"></button></form></div></div></div></div>',22),c=l('<fieldset class="form-group"><input class="form-control form-control-lg" type="text" placeholder="Username"></fieldset>',3);export default()=>{const[l,d]=e({username:"",inProgress:!1}),[,{register:u,login:f}]=s(),g=location.hash.includes("login"),m=g?"Sign in":"Sign up",p=t(r,g?{route:"register",children:"Need an account?"}:{route:"login",children:"Have an account?"}),v=e=>{e.preventDefault(),d({inProgress:!0});(g?f(l.email,l.password):u(l.username,l.email,l.password)).then(()=>location.hash="/").catch(e=>d({errors:e})).finally(()=>d({inProgress:!1}))};return(()=>{const e=a.cloneNode(!0),s=e.firstChild.firstChild.firstChild,r=s.firstChild,u=r.nextSibling,f=u.nextSibling,h=f.firstChild,x=h.firstChild,b=h.nextSibling,C=b.firstChild,$=b.nextSibling;return r.textContent=m,o(u,p),o(s,t(n,{get errors(){return l.errors}}),f),f.onsubmit=v,o(f,!g&&(()=>{const e=c.cloneNode(!0),s=e.firstChild;return s.onchange=e=>d({username:e.target.value}),i(()=>s.value=l.username),e})(),h),x.onchange=e=>d({email:e.target.value}),C.onchange=e=>d({password:e.target.value}),$.textContent=m,i(e=>{const s=l.email,t=l.password,r=l.inProgress;return s!==e._v$&&(x.value=e._v$=s),t!==e._v$2&&(C.value=e._v$2=t),r!==e._v$3&&($.disabled=e._v$3=r),e},{_v$:void 0,_v$2:void 0,_v$3:void 0}),e})()};
